<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="{{.Description}}">
  <meta name="keywords" content="brewing, MCP, beer, mead, cider, breweries, BJCP, BrewSource, open source, server">
  <meta name="author" content="BrewSource MCP Team">
  <meta property="og:title" content="{{.ProjectName}}">
  <meta property="og:description" content="{{.Description}}">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://{{.Host}}/">
  <meta property="og:image" content="/app/internal/handlers/templates/favicon.ico">
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <title>{{.ProjectName}}</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        line-height: 1.6;
        color: #333;
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
        background: #f8f9fa;
      }


      .api-info {
        background: #2c3e50;
        color: white;
        padding: 1rem;
        border-radius: 8px;
        margin-bottom: 2rem;
        text-align: center;
      }

      .api-info a {
        color: #3498db;
        text-decoration: none;
      }

      .api-info a:hover {
        text-decoration: underline;
      }

      .content {
        background: white;
        padding: 2rem;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        margin-bottom: 2rem;
      }

      .readme-content h1 {
        color: #2c3e50;
        border-bottom: 3px solid #3498db;
        padding-bottom: 0.5rem;
      }

      .readme-content h2 {
        color: #34495e;
        margin-top: 2rem;
        border-bottom: 2px solid #ecf0f1;
        padding-bottom: 0.3rem;
      }

      .readme-content h3 {
        color: #7f8c8d;
        margin-top: 1.5rem;
      }

      .readme-content code {
        background: #f8f9fa;
        padding: 0.2rem 0.4rem;
        border-radius: 3px;
        font-family: 'Monaco', 'Consolas', monospace;
        color: #e74c3c;
      }

      .readme-content pre {
        background: #2c3e50;
        color: #ecf0f1;
        padding: 1rem;
        border-radius: 5px;
        overflow-x: auto;
        margin: 1rem 0;
      }

      .readme-content pre code {
        background: none;
        padding: 0;
        color: inherit;
      }

      .readme-content blockquote {
        border-left: 4px solid #3498db;
        margin: 1rem 0;
        padding-left: 1rem;
        color: #7f8c8d;
        font-style: italic;
      }

      .readme-content table {
        border-collapse: collapse;
        width: 100%;
        margin: 1rem 0;
      }

      .readme-content th,
      .readme-content td {
        border: 1px solid #ddd;
        padding: 0.75rem;
        text-align: left;
      }

      .readme-content th {
        background-color: #f8f9fa;
        font-weight: bold;
      }

      .readme-content ul,
      .readme-content ol {
        margin: 1rem 0;
        padding-left: 2rem;
      }

      .readme-content li {
        margin: 0.5rem 0;
      }

      .footer {
        text-align: center;
        color: #7f8c8d;
        margin-top: 2rem;
        padding: 1rem;
      }

      @media (max-width: 768px) {
        body {
          padding: 1rem;
        }
        .content {
          padding: 1rem;
        }
      }
    </style>
    <script>
      async function checkHealth() {
        try {
          const response = await fetch('/health');
          const data = await response.json();
          const indicator = document.getElementById('status-indicator');
          if (response.ok && data.status === 'healthy') {
            indicator.innerHTML = '<span style="color: #27ae60;">●</span> Running';
          } else {
            indicator.innerHTML = '<span style="color: #e74c3c;">●</span> Error';
          }
        } catch (error) {
          const indicator = document.getElementById('status-indicator');
          indicator.innerHTML = '<span style="color: #f39c12;">●</span> Loading...';
        }
      }

      // Check health on page load
      document.addEventListener('DOMContentLoaded', function() {
        checkHealth();
      });
    </script>
  </head>
  <body>
    <div class="api-info" id="server-status">
      <strong>Server Status:</strong> <span id="status-indicator"><span style="color: #f39c12;">●</span> Loading...</span> |
      <strong>Current Version:</strong> {{ .Version }}
      <br />
      <strong>WebSocket:</strong> ws://{{.Host}}/mcp (live MCP connection) |
      <strong>API:</strong> <a href="https://{{.Host}}/api" target="_blank">https://{{.Host}}/api</a> (server info)
      <br />
      <strong>Health:</strong> <a href="https://{{.Host}}/health" target="_blank">https://{{.Host}}/health</a> (server health) |
      <strong>Version:</strong> <a href="https://{{.Host}}/version" target="_blank">https://{{.Host}}/version</a> (current version)
    </div>

    <div class="content">
      <div class="readme-content">
        {{.ReadmeHTML}}
      </div>
    </div>

    <div class="footer">
      <p>&copy; 2025 BrewSource MCP Server - Built with ❤️ for the brewing community</p>
      <p><small>Last Updated: {{.LastUpdated}}</small></p>
    </div>
  </body>
</html>
